Analyse the function below and provide answers to the following questions:
● What do you think is wrong with the code, if anything?

● Can you see any potential problems that could lead to exceptions
● How would you refactor this code to:
○ Make it easier to read
○ Increase code reusability
○ Improve the stability of the system
○ Improve the testability of the code
● How might you use the latest JavaScript features to refactor the code?
Arrow functions could be used to decrease the amount of code.
Also all variables declared as var could be changed by using the new let convension to declare variables or const 
which I think would be the case of the authUrl variable which I believe would stay constant.